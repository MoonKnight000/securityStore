CREATE FUNCTION public.search_word(string text, find text) RETURNS boolean LANGUAGE plpgsql AS $$DECLARE number integer; words text; result boolean; BEGIN     select array_length(regexp_split_to_array(trim(find), E'\\W+'), 1) into number;  select true into result;     for counter in 1..number loop             if result then SELECT split_part(find, ' ', counter) into words;             if not string ILIKE concat('%',words,'%') then                 select false into result; end if;             end if;         end loop;     return result; end; $$;